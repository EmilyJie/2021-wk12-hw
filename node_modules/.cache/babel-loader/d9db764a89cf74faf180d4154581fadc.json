{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\NTUE\\\\\\u4E09\\u4E0B\\\\\\u8DE8\\u5E73\\u53F0\\u524D\\u7AEF\\\\practice\\\\wk12-project\\\\src\\\\components\\\\ProfileCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Form, Input, Button, Row, Col } from \"antd\";\nimport { logoutFromFirebase, updateUserInfo, getUserOrders } from \"../actions\";\nimport { StoreContext } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileCard = () => {\n  _s();\n\n  const {\n    state: {\n      userSignin: {\n        userInfo\n      },\n      userOrders\n    },\n    dispatch\n  } = useContext(StoreContext);\n  const {\n    displayName,\n    email\n  } = userInfo;\n  const history = useHistory();\n  const [form] = Form.useForm();\n\n  const handleUpdate = values => {\n    console.log(values);\n    updateUserInfo(dispatch, values);\n  };\n\n  const handleLogout = () => {\n    logoutFromFirebase(dispatch);\n    history.push(\"/\");\n  };\n\n  useEffect(() => {\n    getUserOrders(dispatch);\n  }, [userInfo]);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    gutter: [32, 32],\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      className: \"profile-form\",\n      lg: {\n        span: 10,\n        offset: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onFinish: handleUpdate,\n        name: \"normal_login\",\n        className: \"login-form\",\n        form: form,\n        initialValues: userInfo,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"name: \",\n          name: \"name\",\n          rules: [{\n            type: \"string\",\n            message: \"The input is not valid name!\"\n          }, {\n            message: \"Please input your name!\"\n          }],\n          hasFeedback: true,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: displayName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"email: \",\n          name: \"email\",\n          rules: [{\n            type: \"email\",\n            message: \"The input is not valid E-mail!\"\n          }, {\n            message: \"Please input your E-mail!\"\n          }],\n          hasFeedback: true,\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"password\",\n          label: \"Password\",\n          rules: [{\n            message: \"Please input your password!\"\n          }],\n          hasFeedback: true,\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"rePassword\",\n          label: \"Re-enter Password\",\n          dependencies: [\"password\"],\n          hasFeedback: true,\n          rules: [{\n            message: \"Please re-enter your password!\"\n          }, ({\n            getFieldValue\n          }) => ({\n            validator(_, value) {\n              if (!value || getFieldValue(\"password\") === value) {\n                return Promise.resolve();\n              }\n\n              return Promise.reject(new Error(\"The two passwords that you entered do not match!\"));\n            }\n\n          })],\n          children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            className: \"login-form__button\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"danger\",\n            style: {\n              marginTop: \"0.8rem\"\n            },\n            className: \"login-form__button\",\n            onClick: handleLogout,\n            children: \"Log out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      className: \"profile-orders\",\n      lg: {\n        span: 12\n      },\n      children: userOrders.orders.map(order => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/order/${order.id}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"order-id\",\n            children: [\"Order ID: \", order.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"order-tex\",\n            children: [\"Tex Price: \", order.taxPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"order-shipping\",\n            children: [\"Shipping Price: \", order.shippingPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"order-total\",\n            children: [\"Total Price: \", order.totalPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileCard, \"u7MflINtf8aUP9ivarSahksMqK0=\", false, function () {\n  return [useHistory, Form.useForm];\n});\n\n_c = ProfileCard;\nexport default ProfileCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileCard\");","map":{"version":3,"sources":["C:/Users/User/Desktop/NTUE/三下/跨平台前端/practice/wk12-project/src/components/ProfileCard.js"],"names":["React","useContext","useEffect","useHistory","Link","Form","Input","Button","Row","Col","logoutFromFirebase","updateUserInfo","getUserOrders","StoreContext","ProfileCard","state","userSignin","userInfo","userOrders","dispatch","displayName","email","history","form","useForm","handleUpdate","values","console","log","handleLogout","push","span","offset","type","message","getFieldValue","validator","_","value","Promise","resolve","reject","Error","marginTop","orders","map","order","id","taxPrice","shippingPrice","totalPrice"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { Form, Input, Button, Row, Col } from \"antd\";\r\nimport { logoutFromFirebase, updateUserInfo, getUserOrders } from \"../actions\";\r\nimport { StoreContext } from \"../store\";\r\n\r\nconst ProfileCard = () => {\r\n  const { state: { userSignin: { userInfo }, userOrders, }, dispatch, } = useContext(StoreContext);\r\n  const { displayName, email } = userInfo;\r\n  const history = useHistory();\r\n  const [form] = Form.useForm();\r\n\r\n  const handleUpdate = (values) => {\r\n    console.log(values)\r\n    updateUserInfo(dispatch, values);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logoutFromFirebase(dispatch);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  useEffect(()=>{\r\n    getUserOrders(dispatch);\r\n  }, [userInfo])\r\n\r\n  return (\r\n    <Row gutter={[32, 32]} className=\"profile\">\r\n      <Col\r\n        className=\"profile-form\"\r\n        lg={{ span: 10, offset: 1 }}\r\n      >\r\n        <Form\r\n          onFinish={handleUpdate}\r\n          name=\"normal_login\"\r\n          className=\"login-form\"\r\n          form={form}\r\n          initialValues={userInfo}\r\n        >\r\n          <Form.Item\r\n            label=\"name: \"\r\n            name=\"name\"\r\n            rules={[\r\n              {\r\n                type: \"string\",\r\n                message: \"The input is not valid name!\",\r\n              },\r\n              {\r\n                message: \"Please input your name!\",\r\n              },\r\n            ]}\r\n            hasFeedback\r\n          >\r\n            <Input placeholder={displayName} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            label=\"email: \"\r\n            name=\"email\"\r\n            rules={[\r\n              {\r\n                type: \"email\",\r\n                message: \"The input is not valid E-mail!\",\r\n              },\r\n              {\r\n                message: \"Please input your E-mail!\",\r\n              },\r\n            ]}\r\n            hasFeedback\r\n          >\r\n            <Input placeholder={email} />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            rules={[\r\n              {\r\n                message: \"Please input your password!\",\r\n              },\r\n            ]}\r\n            hasFeedback\r\n          >\r\n            <Input.Password />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"rePassword\"\r\n            label=\"Re-enter Password\"\r\n            dependencies={[\"password\"]}\r\n            hasFeedback\r\n            rules={[\r\n              {\r\n                message: \"Please re-enter your password!\",\r\n              },\r\n              ({ getFieldValue }) => ({\r\n                validator(_, value) {\r\n                  if (!value || getFieldValue(\"password\") === value) {\r\n                    return Promise.resolve();\r\n                  }\r\n\r\n                  return Promise.reject(\r\n                    new Error(\"The two passwords that you entered do not match!\")\r\n                  );\r\n                },\r\n              }),\r\n            ]}\r\n          >\r\n            <Input.Password />\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form__button\"\r\n            >\r\n              Submit\r\n            </Button>\r\n\r\n            <Button\r\n              type=\"danger\"\r\n              style={{ marginTop: \"0.8rem\" }}\r\n              className=\"login-form__button\"\r\n              onClick={handleLogout}\r\n            >\r\n              Log out\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </Col>\r\n      <Col\r\n      className=\"profile-orders\"\r\n        lg={{ span: 12 }}\r\n      >\r\n        {userOrders.orders.map(order => (\r\n          <Link to={`/order/${order.id}`}>\r\n            <div className=\"order-block\">\r\n              <p className=\"order-id\">Order ID: {order.id}</p>\r\n              <p className=\"order-tex\">Tex Price: {order.taxPrice}</p>\r\n              <p className=\"order-shipping\">Shipping Price: {order.shippingPrice}</p>\r\n              <p className=\"order-total\">Total Price: {order.totalPrice}</p>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\nexport default ProfileCard;"]},"metadata":{},"sourceType":"module"}